/* stats.css */
/* This file provides the complete, modern styling for the Statistics Dashboard,
   fully aligned with the universal design system from globals.css. */
@import url('globals.css');

/* Main Page Layout */
body {
    background-color: var(--bg-primary);
    background-image: 
        radial-gradient(at 10% 20%, hsla(165, 100%, 41%, 0.1) 0px, transparent 50%),
        radial-gradient(at 90% 80%, hsla(218, 98%, 52%, 0.08) 0px, transparent 50%);
}
.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 32px;
}

/* Custom Scrollbar Styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: var(--surface);
}
::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: var(--border-hover);
}


/* Loading & Error States */
.loading-container, .error-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  text-align: center;
  padding: 48px;
}
.loading-spinner {
  width: 48px;
  height: 48px;
  border: 3px solid var(--border);
  border-top: 3px solid var(--primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 24px;
}
@keyframes spin { 100% { transform: rotate(360deg); } }
.loading-container h2, .error-state h3 {
  font-size: 24px;
  font-weight: 600;
  margin-bottom: 12px;
}
.loading-container p, .error-state p {
  font-size: 16px;
  color: var(--text-secondary);
  margin-bottom: 24px;
}
.retry-btn, .start-session-btn {
  background: var(--primary);
  color: var(--text-inverse);
  border: none;
  padding: 12px 24px;
  border-radius: var(--radius-small);
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-fast);
}
.retry-btn:hover, .start-session-btn:hover {
    background: var(--primary-hover);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px var(--primary-light);
}


/* Dashboard Header */
.header {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 32px;
  margin-bottom: 32px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 24px;
}
.header-content h1 {
  font-size: 32px;
  font-weight: 700;
  margin-bottom: 8px;
}
.header-content p {
  font-size: 16px;
  color: var(--text-secondary);
}
.header-stats {
  display: flex;
  gap: 32px;
}
.header-stat { text-align: center; }
.stat-number {
  font-size: 28px;
  font-weight: 700;
  color: var(--primary);
  font-family: var(--font-family-mono);
}
.stat-label {
  font-size: 12px;
  color: var(--text-muted);
  text-transform: uppercase;
}

/* Navigation Tabs */
.navigation {
  display: flex;
  gap: 8px;
  margin-bottom: 32px;
}
.nav-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 20px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-small);
  color: var(--text-secondary);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-fast);
}
.nav-btn:hover {
  background: var(--surface-hover);
  color: var(--text-primary);
}
.nav-btn.active {
  background: var(--primary);
  color: var(--text-inverse);
  border-color: var(--primary);
  font-weight: 600;
}
.view-content {
  display: flex;
  flex-direction: column;
  gap: 32px;
  animation: fadeIn 0.5s ease;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Section Header */
.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
}
.section-header h2 { font-size: 24px; font-weight: 600; }
.view-full-btn, .edit-goals-btn {
  background: var(--surface-hover);
  border: 1px solid var(--border);
  color: var(--text-primary);
  padding: 8px 16px;
  border-radius: var(--radius-small);
  font-size: 14px;
  cursor: pointer;
}

/* General Card Style */
.stats-grid, .charts-grid, .insights-grid, .goals-progress {
  display: grid;
  gap: 24px;
}
.quick-heatmap-container, .heatmap-container, .trends-container, .goals-container, .recent-activity-container, .stat-card, .chart-container, .insight-card, .goal-item, .goal-settings {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius);
  padding: 28px;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  transition: all var(--transition-normal);
}

.quick-heatmap-container:hover, .heatmap-container:hover, .trends-container:hover, .goals-container:hover, .recent-activity-container:hover, .stat-card:hover, .chart-container:hover, .insight-card:hover, .goal-item:hover {
    border-color: var(--glass-border-hover);
    transform: translateY(-4px);
    box-shadow: var(--shadow-strong);
}


.stats-grid { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
.charts-grid { grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); }
.insights-grid { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }


/* Stat Cards */
.stat-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
.stat-header h3 { font-size: 16px; font-weight: 600; }
.stat-value { font-size: 42px; font-weight: 700; color: var(--primary); font-family: var(--font-family-mono); margin-bottom: 16px; }
.stat-details { display: flex; flex-direction: column; gap: 8px; font-size: 14px; }
.stat-detail { display: flex; justify-content: space-between; }
.detail-label { color: var(--text-secondary); }
.detail-value { font-weight: 600; }
.stat-trend { font-size: 20px; }
.stat-trend.positive { color: var(--accent-success); }
.stat-trend.negative { color: var(--accent-danger); }

/* Heatmap */
.heatmap-cell, .quick-heatmap-cell { width: 12px; height: 12px; border-radius: 3px; cursor: pointer; transition: transform var(--transition-fast); }
.heatmap-cell:hover, .quick-heatmap-cell:hover { transform: scale(1.2); }
.heatmap-cell[data-level="0"], .quick-heatmap-cell[data-level="0"] { background: var(--heatmap-0); }
.heatmap-cell[data-level="1"], .quick-heatmap-cell[data-level="1"] { background: var(--heatmap-1); }
.heatmap-cell[data-level="2"], .quick-heatmap-cell[data-level="2"] { background: var(--heatmap-2); }
.heatmap-cell[data-level="3"], .quick-heatmap-cell[data-level="3"] { background: var(--heatmap-3); }
.heatmap-cell[data-level="4"], .quick-heatmap-cell[data-level="4"] { background: var(--heatmap-4); }
.quick-heatmap { display: flex; flex-wrap: wrap; gap: 3px; margin-bottom: 16px; }
.heatmap-legend { display: flex; justify-content: flex-end; align-items: center; gap: 8px; font-size: 12px; color: var(--text-muted); }
.legend-levels { display: flex; gap: 2px; }
.legend-cell { width: 10px; height: 10px; border-radius: 2px; }
.legend-cell[data-level="0"] { background: var(--heatmap-0); }
.legend-cell[data-level="1"] { background: var(--heatmap-1); }
.legend-cell[data-level="2"] { background: var(--heatmap-2); }
.legend-cell[data-level="3"] { background: var(--heatmap-3); }
.legend-cell[data-level="4"] { background: var(--heatmap-4); }


/* Vertical Heatmap */
.heatmap-container { overflow-x: auto; }
.heatmap-stats { font-size: 14px; color: var(--text-secondary); }
.heatmap-stat strong { color: var(--text-primary); font-weight: 600; }
.vertical-heatmap { min-width: 800px; margin-top: 24px; }
.heatmap-months { display: flex; gap: 16px; }
.heatmap-month { min-width: 100px; }
.month-header { text-align: center; margin-bottom: 8px; }
.month-name { font-size: 12px; font-weight: 500; color: var(--text-secondary); }
.month-stats { font-size: 11px; color: var(--text-muted); }
.month-grid { display: flex; gap: 2px; justify-content: center; }
.week-column { display: flex; flex-direction: column; gap: 2px; }
.heatmap-tooltip { position: fixed; background: var(--surface-elevated); border: 1px solid var(--border); border-radius: var(--radius-tiny); padding: 8px 12px; font-size: 12px; box-shadow: var(--shadow-strong); pointer-events: none; z-index: 1000; }

/* Trends & Insights Spacing */
.trends-layout-wrapper {
    display: flex;
    flex-direction: column;
    gap: 32px; /* Added gap for spacing */
}

/* Charts */
.chart-container h3 { text-align: center; font-size: 18px; font-weight: 600; margin-bottom: 20px; }
.simple-chart { display: flex; align-items: flex-end; gap: 8px; height: 200px; }
.chart-bar { flex: 1; background: linear-gradient(to top, var(--primary), var(--primary-hover)); border-radius: 6px 6px 0 0; position: relative; display: flex; flex-direction: column; justify-content: flex-end; align-items: center; padding-bottom: 4px; color: var(--text-inverse); }
.bar-value { font-size: 12px; font-weight: 600; }
.bar-label { font-size: 10px; opacity: 0.8; }
.chart-summary { text-align: center; font-size: 14px; color: var(--text-secondary); margin-top: 16px; }

.daily-averages { display: flex; gap: 12px; height: 200px; align-items: flex-end; }
.daily-average-item { flex: 1; display: flex; flex-direction: column; align-items: center; gap: 8px; }
.day-name { font-size: 11px; color: var(--text-secondary); }
.average-bar { flex: 1; width: 32px; background: var(--bg-tertiary); border-radius: 4px; display: flex; align-items: flex-end; }
.average-fill { width: 100%; background: linear-gradient(to top, var(--primary), var(--primary-hover)); border-radius: 4px; transition: height 0.5s ease; }
.average-value { font-size: 11px; font-weight: 600; font-family: var(--font-family-mono); }

/* Insights */
.insights-container h3 { text-align: center; } /* Centered title */
.insight-card { padding: 20px; display: flex; gap: 16px; border-left: 3px solid transparent; }
.insight-card.success { border-left-color: var(--accent-success); }
.insight-card.warning { border-left-color: var(--accent-warning); }
.insight-card.info { border-left-color: var(--accent-info); }
.insight-icon { font-size: 24px; flex-shrink: 0; }
.insight-content h4 { font-size: 16px; font-weight: 600; margin-bottom: 8px; }
.insight-content p { font-size: 14px; color: var(--text-secondary); }
.insight-action { background: var(--primary); color: var(--text-inverse); border: none; padding: 6px 12px; border-radius: var(--radius-tiny); font-size: 12px; font-weight: 500; cursor: pointer; margin-top: 12px; }

/* Goals */
.goal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
.goal-header h3 { font-size: 16px; font-weight: 600; }
.goal-value { font-size: 14px; color: var(--text-secondary); font-family: var(--font-family-mono); }
.progress-bar { height: 8px; background: var(--bg-tertiary); border-radius: 4px; overflow: hidden; margin-bottom: 8px; }
.progress-fill { height: 100%; background: linear-gradient(90deg, var(--primary), var(--primary-hover)); border-radius: 4px; transition: width var(--transition-slow); }
.progress-text { text-align: right; font-size: 12px; color: var(--text-muted); }
.goal-settings { display: none; margin-top: 24px; }
.goal-inputs { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 20px; }
.goal-input label { font-size: 14px; font-weight: 500; display: block; margin-bottom: 8px; }
.goal-input input { background: var(--bg-tertiary); border: 1px solid var(--border); border-radius: var(--radius-tiny); padding: 12px; width: 100%; color: var(--text-primary); }
.goal-actions { display: flex; gap: 12px; justify-content: flex-end; }
.save-goals-btn, .cancel-goals-btn { padding: 10px 20px; border: none; border-radius: var(--radius-tiny); font-size: 14px; font-weight: 500; cursor: pointer; }
.save-goals-btn { background: var(--primary); color: var(--text-inverse); }
.cancel-goals-btn { background: var(--surface-hover); border: 1px solid var(--border); color: var(--text-primary); }

/* Recent Activity */
.activity-timeline { display: flex; flex-direction: column; gap: 16px; max-height: 400px; overflow-y: auto; }
.timeline-item { display: flex; gap: 16px; padding: 16px; background: var(--surface-elevated); border-radius: var(--radius-small); transition: all var(--transition-fast); }
.timeline-item:hover { transform: translateX(4px); background-color: var(--surface-hover); }
.timeline-date { display: flex; flex-direction: column; align-items: center; justify-content: center; min-width: 48px; background: var(--primary-light); border-radius: var(--radius-tiny); padding: 8px; }
.date-day { font-size: 18px; font-weight: 700; color: var(--primary); }
.date-month { font-size: 11px; color: var(--text-muted); text-transform: uppercase; }
.timeline-content { flex-grow: 1; }
.activity-summary { font-size: 16px; font-weight: 600; margin-bottom: 4px; }
.activity-details { font-size: 12px; color: var(--primary); font-weight: 500; }

/* Empty States */
.empty-state, .empty-activity { text-align: center; padding: 48px 24px; }
.empty-icon, .empty-state-icon { font-size: 48px; margin-bottom: 16px; opacity: 0.5; }
.empty-state h3, .empty-activity h3 { font-size: 20px; font-weight: 600; margin-bottom: 8px; }
.empty-state p, .empty-activity p { color: var(--text-secondary); max-width: 400px; margin: 0 auto 24px; }

/* Responsive */
@media (max-width: 768px) {
    .container { padding: 20px; }
    .header { flex-direction: column; gap: 24px; text-align: center; }
    .header-stats { justify-content: center; }
    .navigation { flex-wrap: wrap; }
    .stats-grid, .charts-grid { grid-template-columns: 1fr; }
}

