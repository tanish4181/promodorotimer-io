<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FlowLock Settings</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="header-content">
        <div class="header-text">
          <h1>Settings</h1>
          <p>Configure your FlowLock timer and boost your productivity</p>
        </div>
      </div>
      <div class="header-stats">
        <div class="stat-item">
          <div class="stat-value" id="header-focus-time">25</div>
          <div class="stat-label">FOCUS MIN</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="header-break-time">5</div>
          <div class="stat-label">BREAK MIN</div>
        </div>
      </div>
    </header>

    <div id="lock-in-banner" class="banner" style="display: none;">
      ðŸ”’ Lock-In Mode is active. Website blocking settings are temporarily disabled.
    </div>

    <div class="nav-container">
      <nav class="nav-tabs">
        <button class="nav-tab active" data-tab="timer">Timer</button>
        <button class="nav-tab" data-tab="breaks">Breaks</button>
        <button class="nav-tab" data-tab="blocking">Blocking</button>
        <button class="nav-tab" data-tab="youtube">YouTube</button>
        <button class="nav-tab" data-tab="notifications">Alerts</button>
        <button class="nav-tab" data-tab="data">Data</button>
      </nav>
    </div>

    <!-- Timer Settings -->
    <div class="tab-content active" id="timer">
        <div class="settings-grid two-column">
          <div class="settings-card">
            <div class="card-header"><h3>Timer Duration</h3></div>
            <div class="setting-group">
              <label class="setting-label" for="focus-time">Focus Session</label>
              <div class="input-group"><input type="number" id="focus-time" min="1" max="120"><span class="input-suffix">minutes</span></div>
            </div>
            <div class="setting-group">
              <label class="setting-label" for="short-break">Short Break</label>
              <div class="input-group"><input type="number" id="short-break" min="1" max="30"><span class="input-suffix">minutes</span></div>
            </div>
            <div class="setting-group">
              <label class="setting-label" for="long-break">Long Break</label>
              <div class="input-group"><input type="number" id="long-break" min="5" max="60"><span class="input-suffix">minutes</span></div>
            </div>
            <div class="setting-group">
              <label class="setting-label" for="sessions-until-long-break">Sessions for Long Break</label>
              <div class="input-group"><input type="number" id="sessions-until-long-break" min="2" max="10"><span class="input-suffix">sessions</span></div>
            </div>
          </div>
          <div class="settings-card">
            <div class="card-header"><h3>Automation</h3></div>
            <div class="setting-group">
              <label class="toggle-setting" for="auto-start-breaks">
                <div class="toggle-text-content"><div class="toggle-text">Auto-start Breaks</div><div class="toggle-description">Automatically start breaks when focus sessions end.</div></div>
                <div class="toggle-switch"><input type="checkbox" id="auto-start-breaks"><span class="toggle-slider"></span></div>
              </label>
            </div>
            <div class="setting-group">
              <label class="toggle-setting" for="auto-start-pomodoros">
                <div class="toggle-text-content"><div class="toggle-text">Auto-start Focus Sessions</div><div class="toggle-description">Automatically start focus sessions when breaks end.</div></div>
                <div class="toggle-switch"><input type="checkbox" id="auto-start-pomodoros"><span class="toggle-slider"></span></div>
              </label>
            </div>
          </div>
        </div>
    </div>

    <!-- Break Settings -->
    <div class="tab-content" id="breaks">
        <div class="settings-grid two-column">
            <div class="settings-card">
                <div class="card-header"><h3>Break Enforcement</h3></div>
                <div class="setting-group">
                  <label class="toggle-setting" for="enforce-breaks">
                    <div class="toggle-text-content"><div class="toggle-text">Enforce Breaks</div><div class="toggle-description">Master switch for break overlay and video pausing.</div></div>
                    <div class="toggle-switch"><input type="checkbox" id="enforce-breaks"><span class="toggle-slider"></span></div>
                  </label>
                </div>
                <div class="setting-group">
                  <label class="toggle-setting" for="pause-youtube-breaks">
                    <div class="toggle-text-content"><div class="toggle-text">Pause YouTube Videos</div><div class="toggle-description">Automatically pause YouTube videos when a break starts.</div></div>
                    <div class="toggle-switch"><input type="checkbox" id="pause-youtube-breaks"><span class="toggle-slider"></span></div>
                  </label>
                </div>
            </div>
            <div class="settings-card">
                <div class="card-header"><h3>Break Behavior</h3></div>
                <div class="setting-group">
                  <label class="toggle-setting" for="break-countdown">
                    <div class="toggle-text-content"><div class="toggle-text">Show Countdown on Overlay</div><div class="toggle-description">Display remaining break time.</div></div>
                    <div class="toggle-switch"><input type="checkbox" id="break-countdown"><span class="toggle-slider"></span></div>
                  </label>
                </div>
                <div class="setting-group">
                  <label class="toggle-setting" for="next-session-info">
                    <div class="toggle-text-content"><div class="toggle-text">Show Next Session Info</div><div class="toggle-description">Display details about the upcoming focus session.</div></div>
                    <div class="toggle-switch"><input type="checkbox" id="next-session-info"><span class="toggle-slider"></span></div>
                  </label>
                </div>
                <div class="setting-group">
                    <label class="toggle-setting" for="break-block-all">
                        <div class="toggle-text-content"><div class="toggle-text">Block All Websites During Break</div><div class="toggle-description">Overrides allowlist for a complete disconnect.</div></div>
                        <div class="toggle-switch"><input type="checkbox" id="break-block-all"><span class="toggle-slider"></span></div>
                    </label>
                </div>
                <div class="setting-group">
                    <label class="toggle-setting" for="break-use-allowlist">
                        <div class="toggle-text-content"><div class="toggle-text">Block All Except Allowlist During Break</div><div class="toggle-description">Only allow access to your essential sites.</div></div>
                        <div class="toggle-switch"><input type="checkbox" id="break-use-allowlist"><span class="toggle-slider"></span></div>
                    </label>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Blocking Settings -->
    <div class="tab-content" id="blocking">
        <div class="settings-grid">
            <div class="settings-card">
                <div class="card-header"><h3>Website Blocking</h3></div>
                <div class="setting-group">
                    <label class="toggle-setting" for="website-blocking">
                        <div class="toggle-text-content"><div class="toggle-text">Enable Website Blocking</div><div class="toggle-description">Block distracting sites based on timer state and your lists.</div></div>
                        <div class="toggle-switch"><input type="checkbox" id="website-blocking"><span class="toggle-slider"></span></div>
                    </label>
                </div>
            </div>
            <div class="settings-grid two-column">
                <div class="settings-card">
                    <div class="card-header"><h3>Allowlist (Always Accessible)</h3></div>
                    <div class="website-input-group"><input type="text" id="allowlist-input" placeholder="e.g., docs.google.com"><button id="add-allowlist-btn">Add</button></div>
                    <div class="website-list-container"><div id="allowlist-container" class="website-list"></div></div>
                    <div id="allowlist-empty" class="website-list-empty" style="display: none;"><p>No websites in allowlist.</p></div>
                </div>
                <div class="settings-card">
                    <div class="card-header"><h3>Blocklist (Blocked When Idle)</h3></div>
                    <div class="website-input-group"><input type="text" id="blocklist-input" placeholder="e.g., facebook.com"><button id="add-blocklist-btn">Add</button></div>
                    <div class="website-list-container"><div id="blocklist-container" class="website-list"></div></div>
                    <div id="blocklist-empty" class="website-list-empty" style="display: none;"><p>No websites in blocklist.</p></div>
                </div>
            </div>
        </div>
    </div>

    <!-- YouTube Settings -->
    <div class="tab-content" id="youtube">
        <div class="settings-grid two-column">
            <div class="settings-card">
                <div class="card-header"><h3>YouTube Distractions</h3></div>
                <div class="setting-group">
                    <label class="toggle-setting" for="hide-distractions">
                        <div class="toggle-text-content"><div class="toggle-text">Hide Distractions</div><div class="toggle-description">Master switch for hiding comments, shorts, etc.</div></div>
                        <div class="toggle-switch"><input type="checkbox" id="hide-distractions"><span class="toggle-slider"></span></div>
                    </label>
                </div>
                <div class="setting-group">
                    <label class="toggle-setting" for="hide-youtube-comments">
                        <div class="toggle-text-content"><div class="toggle-text">Hide Comments</div></div>
                        <div class="toggle-switch"><input type="checkbox" id="hide-youtube-comments"><span class="toggle-slider"></span></div>
                    </label>
                </div>
                <div class="setting-group">
                    <label class="toggle-setting" for="hide-youtube-recommendations">
                        <div class="toggle-text-content"><div class="toggle-text">Hide Recommendations</div></div>
                        <div class="toggle-switch"><input type="checkbox" id="hide-youtube-recommendations"><span class="toggle-slider"></span></div>
                    </label>
                </div>
                <div class="setting-group">
                    <label class="toggle-setting" for="hide-youtube-shorts">
                        <div class="toggle-text-content"><div class="toggle-text">Hide YouTube Shorts</div></div>
                        <div class="toggle-switch"><input type="checkbox" id="hide-youtube-shorts"><span class="toggle-slider"></span></div>
                    </label>
                </div>
            </div>
            <div class="settings-card">
                <div class="card-header"><h3>YouTube Behavior</h3></div>
                <div class="setting-group">
                    <label class="setting-label" for="youtube-distraction-mode">Distraction Blocking Mode</label>
                    <div class="select-wrapper">
                        <select id="youtube-distraction-mode" class="styled-select">
                            <option value="focus">Only during focus timer</option>
                            <option value="always">Always</option>
                            <option value="off">Never</option>
                        </select>
                    </div>
                </div>
                 <div class="setting-group">
                    <label class="toggle-setting" for="focus-indicator">
                        <div class="toggle-text-content"><div class="toggle-text">Focus Mode Indicator</div><div class="toggle-description">Show a subtle indicator on websites during focus.</div></div>
                        <div class="toggle-switch"><input type="checkbox" id="focus-indicator"><span class="toggle-slider"></span></div>
                    </label>
                </div>
            </div>
        </div>
    </div>

    <!-- Notifications -->
    <div class="tab-content" id="notifications">
        <div class="settings-grid two-column">
            <div class="settings-card">
                <div class="card-header"><h3>Alerts</h3></div>
                <div class="setting-group">
                    <label class="toggle-setting" for="notifications">
                        <div class="toggle-text-content"><div class="toggle-text">Desktop Notifications</div></div>
                        <div class="toggle-switch"><input type="checkbox" id="notifications"><span class="toggle-slider"></span></div>
                    </label>
                </div>
                <div class="setting-group">
                    <label class="toggle-setting" for="sounds">
                        <div class="toggle-text-content"><div class="toggle-text">Sound Alerts</div></div>
                        <div class="toggle-switch"><input type="checkbox" id="sounds"><span class="toggle-slider"></span></div>
                    </label>
                </div>
                 <div class="setting-group">
                    <label class="setting-label" for="sound-type">Sound Type</label>
                    <div class="select-wrapper">
                        <select id="sound-type" class="styled-select">
                            <option value="ding">Ding</option>
                            <option value="chime">Chime</option>
                            <option value="bell">Bell</option>
                        </select>
                    </div>
                </div>
            </div>
             <div class="settings-card">
                <div class="card-header"><h3>Test Alerts</h3></div>
                <div class="btn-group">
                    <button id="test-notification" class="btn btn-secondary">Test Notification</button>
                    <button id="test-sound" class="btn btn-primary">Test Sound</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Data -->
    <div class="tab-content" id="data">
        <div class="settings-grid two-column">
            <div class="settings-card">
                <div class="card-header"><h3>Data Management</h3></div>
                 <div class="setting-group">
                    <label class="toggle-setting" for="collect-stats">
                        <div class="toggle-text-content"><div class="toggle-text">Collect Statistics</div><div class="toggle-description">Track productivity stats locally on your device.</div></div>
                        <div class="toggle-switch"><input type="checkbox" id="collect-stats"><span class="toggle-slider"></span></div>
                    </label>
                </div>
                <div class="btn-group">
                    <button id="export-data" class="btn btn-secondary">Export Data</button>
                    <button id="view-stats" class="btn btn-primary">View Statistics</button>
                </div>
                 <div class="btn-group">
                    <button id="reset-defaults" class="btn btn-secondary">Reset Defaults</button>
                    <button id="clear-data" class="btn btn-danger">Clear All Data</button>
                </div>
            </div>
            <div class="settings-card">
                <div class="card-header"><h3>About</h3></div>
                <div class="about-content">
                    <div class="about-item"><strong>Version:</strong> <span id="ext-version">1.0.5</span></div>
                    <div class="about-item"><strong>Storage Used:</strong> <span id="storage-usage">...</span></div>
                </div>
            </div>
        </div>
    </div>

    <div class="save-status" id="save-status">Settings saved automatically</div>
  </div>
  <script src="options.js"></script>
</body>
</html>

